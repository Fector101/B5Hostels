<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title><%= name.split(" ")[0] %>'s Profile</title>
        <link rel="stylesheet" href="css/index.css" />
        <link rel="stylesheet" href="css/header.css" />
        <link rel="stylesheet" href="css/profile.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
            rel="stylesheet"
        />
    </head>
    <body>
        <%- include("header") -%>
        <div class="dashboard">
            <!-- Profile Section -->
            <div class="profile">
                <div class="profile-icon">
                    <p><%= initials %></p>
                </div>
                <!-- <img src="profile.jpg" alt="User Profile"> -->
                <!-- <svg
                    class="profile-icon"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 32 32"
                    aria-hidden="true"
                    role="presentation"
                    focusable="false"
                >
                    <path
                        d="M16 .7C7.56.7.7 7.56.7 16S7.56 31.3 16 31.3 31.3 24.44 31.3 16 24.44.7 16 .7zm0 28c-4.02 0-7.6-1.88-9.93-4.81a12.43 12.43 0 0 1 6.45-4.4A6.5 6.5 0 0 1 9.5 14a6.5 6.5 0 0 1 13 0 6.51 6.51 0 0 1-3.02 5.5 12.42 12.42 0 0 1 6.45 4.4A12.67 12.67 0 0 1 16 28.7z"
                    ></path>
                </svg> -->
                <h2>Hi, <%= name.split(" ")[0] %></h2>
                <p><%= matric_no%></p>
            </div>

            <!-- Progress Section -->
            <div class="progress-section">
                <div class="progress-info">
                    <span class="level">Days Completed</span>
                    <span class="progress-text"><%= days_passed %>/365 Days</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: <%= days_passed %>"></div>
                </div>
            </div>

            <!-- Stats Section -->
            <div class="stats">
                <div class="stat-box">
                    <p><%= level %></p>
                    <span>Level</span>
                </div>

                <% if (room !== 'Nil') { %>
                <div class="stat-box">
                    <p><%= room %></p>
                    <span>Hostel Room</span>
                </div>
                <% } %> 
                <% if (preference!=='Nil') { %>
                <div class="stat-box">
                    <p><%= total_paid %></p>
                    <span> Paid Dues </span>
                </div>
                <% } %>
            </div>

            <div class="room-details">
                <h3>Room Details</h3>
                <% if (room !== 'Nil') { %>

                <p><strong>Location:</strong> New Hostel</p>
                <p>
                    <strong>Amenities:</strong> Wi-Fi, Study Desk, Air
                    Conditioning
                </p>
                <p><strong>Security:</strong> 24/7 Security, Gated Entry</p>
                <% } else if(total_paid !== 'Nil') {%>
                <p>Waiting For Room Verification</p>
                <% } else{%>
                    <p>No Payment Made yet</p>
                    
                <% } %>

            </div>
            <% if (room !== 'Nil') { %>

            <div class="roommates">
                <h3>Roommates</h3>
                <div class="roommate-list">
                    <div class="roommate">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 32 32"
                            aria-hidden="true"
                            role="presentation"
                            focusable="false"
                        >
                            <path
                                d="M16 .7C7.56.7.7 7.56.7 16S7.56 31.3 16 31.3 31.3 24.44 31.3 16 24.44.7 16 .7zm0 28c-4.02 0-7.6-1.88-9.93-4.81a12.43 12.43 0 0 1 6.45-4.4A6.5 6.5 0 0 1 9.5 14a6.5 6.5 0 0 1 13 0 6.51 6.51 0 0 1-3.02 5.5 12.42 12.42 0 0 1 6.45 4.4A12.67 12.67 0 0 1 16 28.7z"
                            ></path>
                        </svg>
                        <p>John</p>
                    </div>
                    <div class="roommate">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 32 32"
                            aria-hidden="true"
                            role="presentation"
                            focusable="false"
                        >
                            <path
                                d="M16 .7C7.56.7.7 7.56.7 16S7.56 31.3 16 31.3 31.3 24.44 31.3 16 24.44.7 16 .7zm0 28c-4.02 0-7.6-1.88-9.93-4.81a12.43 12.43 0 0 1 6.45-4.4A6.5 6.5 0 0 1 9.5 14a6.5 6.5 0 0 1 13 0 6.51 6.51 0 0 1-3.02 5.5 12.42 12.42 0 0 1 6.45 4.4A12.67 12.67 0 0 1 16 28.7z"
                            ></path>
                        </svg>
                        <p>Sarah</p>
                    </div>
                    <div class="roommate">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 32 32"
                            aria-hidden="true"
                            role="presentation"
                            focusable="false"
                        >
                            <path
                                d="M16 .7C7.56.7.7 7.56.7 16S7.56 31.3 16 31.3 31.3 24.44 31.3 16 24.44.7 16 .7zm0 28c-4.02 0-7.6-1.88-9.93-4.81a12.43 12.43 0 0 1 6.45-4.4A6.5 6.5 0 0 1 9.5 14a6.5 6.5 0 0 1 13 0 6.51 6.51 0 0 1-3.02 5.5 12.42 12.42 0 0 1 6.45 4.4A12.67 12.67 0 0 1 16 28.7z"
                            ></path>
                        </svg>
                        <p>Michael</p>
                    </div>
                </div>
            </div>
            <% } %>
            <!-- Action Buttons -->
            <div class="actions">
                <button onclick="extendStay()">View Payment History</button>
                <button onclick="requestMaintenance()">Report Issue</button>
                <form action="/api/authn/logout" method="POST">
                    <button class="logout" type="submit">Logout</button>
                </form>
            </div>
        </div>
    </body>
</html>
